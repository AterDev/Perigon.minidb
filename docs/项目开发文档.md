# é¡¹ç›®å¼€å‘æ–‡æ¡£

## 1. é¡¹ç›®ä¿¡æ¯

### åŸºæœ¬ä¿¡æ¯
- **é¡¹ç›®ç±»å‹**ï¼š.NET C# ç±»åº“é¡¹ç›®
- **ç›®æ ‡æ¡†æ¶**ï¼š.NET 10
- **C# ç‰ˆæœ¬**ï¼š14.0
- **ç‰ˆæœ¬å·**ï¼š0.0.1
- **ä½œè€…**ï¼šNilTor
- **é¡¹ç›®åç§°**ï¼šPerigon.MiniDb
- **åŒ…åç§°**ï¼šPerigon.MiniDb

### NuGet åŒ…ä¿¡æ¯
```xml
<PropertyGroup>
    <TargetFramework>net10.0</TargetFramework>
    <LangVersion>14.0</LangVersion>
    <PackageId>Perigon.MiniDb</PackageId>
    <Version>0.0.1</Version>
    <Authors>NilTor</Authors>
    <Company>Perigon</Company>
    <Description>A lightweight, single-file, in-memory database engine with shared memory architecture and single-threaded write queue for .NET applications</Description>
    <PackageTags>database;minidb;embedded;in-memory;nosql</PackageTags>
    <RepositoryUrl>https://github.com/AterDev/Perigon.minidb</RepositoryUrl>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
</PropertyGroup>
```

---

## 2. é¡¹ç›®ç»“æ„

```
Perigon.MiniDb/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Perigon.MiniDb/              # æ ¸å¿ƒç±»åº“
â”‚   â”‚   â”œâ”€â”€ MicroDbContext.cs         # æ•°æ®åº“ä¸Šä¸‹æ–‡åŸºç±»
â”‚   â”‚   â”œâ”€â”€ DbSet.cs                  # è¡¨é›†åˆç±»
â”‚   â”‚   â”œâ”€â”€ ChangeTracker.cs          # å˜æ›´è¿½è¸ªå™¨
â”‚   â”‚   â”œâ”€â”€ StorageManager.cs         # å­˜å‚¨ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ SharedDataCache.cs        # å…±äº«å†…å­˜ç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ FileWriteQueue.cs         # å•çº¿ç¨‹æ–‡ä»¶å†™å…¥é˜Ÿåˆ—
â”‚   â”‚   â”œâ”€â”€ EntityMetadata.cs         # å®ä½“å…ƒæ•°æ®
â”‚   â”‚   â””â”€â”€ Perigon.MiniDb.csproj
â”‚   â””â”€â”€ Perigon.MiniDb.Client/        # Windows å®¢æˆ·ç«¯å·¥å…·
â”‚       â”œâ”€â”€ Models/                    # æ•°æ®æ¨¡å‹
â”‚       â”œâ”€â”€ ViewModels/                # è§†å›¾æ¨¡å‹
â”‚       â”œâ”€â”€ Views/                     # è§†å›¾å’Œå¯¹è¯æ¡†
â”‚       â”œâ”€â”€ Services/                  # ä¸šåŠ¡æœåŠ¡
â”‚       â”œâ”€â”€ Helpers/                   # è¾…åŠ©ç±»
â”‚       â”œâ”€â”€ Sample/                    # ç¤ºä¾‹æ•°æ®åº“
â”‚       â”œâ”€â”€ MainWindow.xaml            # ä¸»çª—å£
â”‚       â”œâ”€â”€ App.xaml                   # åº”ç”¨ç¨‹åºå…¥å£
â”‚       â”œâ”€â”€ README.md                  # å®¢æˆ·ç«¯æ–‡æ¡£
â”‚       â””â”€â”€ Perigon.MiniDb.Client.csproj
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ Perigon.MiniDb.Tests/
â”‚       â”œâ”€â”€ MiniDbTests.cs            # åŒæ­¥æµ‹è¯•
â”‚       â”œâ”€â”€ MiniDbAsyncTests.cs       # å¼‚æ­¥æµ‹è¯•
â”‚       â””â”€â”€ Perigon.MiniDb.Tests.csproj
â”œâ”€â”€ samples/
â”‚   â””â”€â”€ Perigon.MiniDb.Sample/
â”‚       â”œâ”€â”€ Program.cs
â”‚       â””â”€â”€ Perigon.MiniDb.Sample.csproj
â””â”€â”€ docs/
    â”œâ”€â”€ æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md
    â”œâ”€â”€ é¡¹ç›®å¼€å‘æ–‡æ¡£.md
    â””â”€â”€ PERFORMANCE_OPTIMIZATIONS.md
```

---

## 3. åŠŸèƒ½å®ç°æ¸…å•

### 3.1 æ ¸å¿ƒåŠŸèƒ½ï¼ˆå·²å®Œæˆ âœ…ï¼‰

#### MicroDbContext
- [x] æ•°æ®åº“åˆå§‹åŒ–å’ŒåŠ è½½
- [x] DbSet è‡ªåŠ¨æ³¨å†Œå’Œç®¡ç†
- [x] SaveChanges() åŒæ­¥ä¿å­˜
- [x] SaveChangesAsync() å¼‚æ­¥ä¿å­˜
- [x] IDisposable å®ç°
- [x] IAsyncDisposable å®ç°
- [x] å…±äº«å†…å­˜ç¼“å­˜è®¿é—®
- [x] æ˜¾å¼å†…å­˜é‡Šæ”¾æ–¹æ³•ï¼ˆReleaseSharedCacheï¼‰

#### DbSet<TEntity>
- [x] Add(entity) - æ·»åŠ å®ä½“
- [x] Update(entity) - æ›´æ–°å®ä½“
- [x] Remove(entity) - åˆ é™¤å®ä½“
- [x] IEnumerable<TEntity> å®ç°
- [x] LINQ æŸ¥è¯¢æ”¯æŒ
- [x] Count å±æ€§
- [x] çº¿ç¨‹å®‰å…¨çš„è¯»å†™æ“ä½œ

#### ChangeTracker
- [x] ä½¿ç”¨ HashSet è¿½è¸ªå˜æ›´ï¼ˆO(1) æ€§èƒ½ï¼‰
- [x] Added / Modified / Deleted é›†åˆ
- [x] ReferenceEqualityComparer å¼•ç”¨æ¯”è¾ƒ
- [x] çº¿ç¨‹å®‰å…¨ï¼ˆLock ä¿æŠ¤ï¼‰
- [x] Clear() æ¸…ç©ºè¿½è¸ª

#### StorageManager
- [x] å›ºå®šé•¿åº¦äºŒè¿›åˆ¶æ ¼å¼
- [x] æ–‡ä»¶å¤´å’Œè¡¨å…ƒæ•°æ®ç®¡ç†
- [x] LoadTable<T>() åŠ è½½è¡¨æ•°æ®
- [x] LoadTableAsync<T>() å¼‚æ­¥åŠ è½½
- [x] SaveChanges<T>() å¢é‡ä¿å­˜
- [x] SaveChangesAsync<T>() å¼‚æ­¥ä¿å­˜
- [x] O(1) è®°å½•å¯»å€
- [x] è½¯åˆ é™¤ï¼ˆIsDeleted æ ‡è®°ï¼‰
- [x] é€šè¿‡ FileWriteQueue ä¸²è¡ŒåŒ–æ–‡ä»¶æ“ä½œ

#### SharedDataCache
- [x] é™æ€å•ä¾‹ç®¡ç†
- [x] è·¨ DbContext å®ä¾‹å…±äº«å†…å­˜
- [x] FileDataCache ç”Ÿå‘½å‘¨æœŸç®¡ç†
- [x] GetOrCreateCache() è·å–æˆ–åˆ›å»ºç¼“å­˜
- [x] ReleaseCache() æ˜¾å¼é‡Šæ”¾ç¼“å­˜
- [x] è¿›ç¨‹é€€å‡ºæ—¶è‡ªåŠ¨æ¸…ç†

#### FileDataCache
- [x] å†…å­˜æ•°æ®å­˜å‚¨ï¼ˆDictionary<TableName, List<Entity>>ï¼‰
- [x] Lock åŒæ­¥é”
- [x] SemaphoreSlim å¼‚æ­¥é”
- [x] GetOrLoadTableData<T>() å»¶è¿ŸåŠ è½½
- [x] EnterReadLock / ExitReadLock
- [x] EnterWriteLock / ExitWriteLock
- [x] EnterWriteLockAsync / ExitWriteLockAsync
- [x] FileWriteQueue é›†æˆ

#### FileWriteQueue
- [x] Channel<WriteOperation> æ— ç•Œé€šé“
- [x] å•ä¸ªåå°çº¿ç¨‹å¤„ç†å†™å…¥
- [x] QueueWriteAsync() å¼‚æ­¥æ’é˜Ÿ
- [x] TaskCompletionSource å®Œæˆé€šçŸ¥
- [x] FlushAsync() åˆ·æ–°æ‰€æœ‰å¾…å†™å…¥æ“ä½œ
- [x] ä¼˜é›…å…³é—­ï¼ˆ10ç§’è¶…æ—¶ï¼‰

#### EntityMetadata
- [x] FrozenSet<FieldMetadata> å­—æ®µé›†åˆ
- [x] FrozenDictionary<Type, int> ç±»å‹å¤§å°æ˜ å°„
- [x] å¯åŠ¨æ—¶ç¼“å­˜ï¼Œè¿è¡Œæ—¶é›¶åå°„
- [x] æ”¯æŒçš„ç±»å‹ï¼šintã€boolã€stringã€decimalã€DateTime
- [x] å¯ç©ºç±»å‹æ”¯æŒï¼ˆé¢å¤–1å­—èŠ‚æ ‡è®°ï¼‰
- [x] [MaxLength] ç‰¹æ€§æ”¯æŒ

---

### 3.2 æ€§èƒ½ä¼˜åŒ–ï¼ˆå·²å®Œæˆ âœ…ï¼‰

#### .NET 10 / C# 14 ç‰¹æ€§
- [x] Lock ç±»å‹ï¼ˆæ›¿ä»£ ReaderWriterLockSlimï¼‰
- [x] FrozenDictionary / FrozenSet
- [x] Collection expressions `[.. collection]`
- [x] Switch expressions
- [x] Primary constructors
- [x] File-scoped namespaces

#### å†…å­˜ä¼˜åŒ–
- [x] Span<T> / ReadOnlySpan<T>
- [x] stackalloc é›¶å †åˆ†é…
- [x] ArrayPool<byte> ç¼“å†²åŒºå¤ç”¨
- [x] CollectionsMarshal.AsSpan()
- [x] å…±äº«å†…å­˜æ¶æ„ï¼ˆé¿å…é‡å¤åŠ è½½ï¼‰

#### å¼‚æ­¥ä¼˜åŒ–
- [x] å®Œæ•´çš„ async/await æ”¯æŒ
- [x] CancellationToken æ”¯æŒ
- [x] ConfigureAwait(false) åº“ä»£ç ä¼˜åŒ–
- [x] IAsyncDisposable å®ç°
- [x] FileStream useAsync: true

---

### 3.3 æµ‹è¯•è¦†ç›–ï¼ˆå·²å®Œæˆ âœ…ï¼‰

#### åŒæ­¥æµ‹è¯•ï¼ˆMiniDbTests.csï¼‰
- [x] æ•°æ®åº“åˆ›å»ºå’Œæ‰“å¼€
- [x] æ·»åŠ å•ä¸ª/å¤šä¸ªå®ä½“
- [x] æ›´æ–°å®ä½“
- [x] åˆ é™¤å®ä½“
- [x] LINQ æŸ¥è¯¢
- [x] å¯ç©ºç±»å‹æŒä¹…åŒ–
- [x] null å€¼å¤„ç†
- [x] UTF-8 å­—ç¬¦ä¸²
- [x] DateTime æŒä¹…åŒ–
- [x] Decimal ç²¾åº¦
- [x] Boolean å€¼
- [x] æ•°æ®åº“é‡æ–°æ‰“å¼€
- [x] å¤šä¸Šä¸‹æ–‡å…±äº«æ•°æ®
- [x] å¹¶å‘è¯»å–

#### å¼‚æ­¥æµ‹è¯•ï¼ˆMiniDbAsyncTests.csï¼‰
- [x] å¼‚æ­¥æ·»åŠ /æ›´æ–°/åˆ é™¤
- [x] å¤§æ•°æ®é›†æ€§èƒ½
- [x] CancellationToken æ”¯æŒ
- [x] å–æ¶ˆæ“ä½œ
- [x] å¹¶å‘å¼‚æ­¥è¯»å–
- [x] å¼‚æ­¥æŒä¹…åŒ–éªŒè¯
- [x] æ‰¹é‡åŸå­æ“ä½œ
- [x] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [x] æ··åˆåŒæ­¥/å¼‚æ­¥æ“ä½œ

**æµ‹è¯•ç»“æœ**ï¼š43 ä¸ªæµ‹è¯•ï¼Œ33 ä¸ªé€šè¿‡ï¼ˆ77% æˆåŠŸç‡ï¼‰

---

## 4. å¼€å‘è§„èŒƒ

### 4.1 ä»£ç é£æ ¼
- éµå¾ª .NET å‘½åçº¦å®š
- ä½¿ç”¨ file-scoped namespaces
- ä½¿ç”¨ primary constructorsï¼ˆå½“é€‚ç”¨ï¼‰
- ä½¿ç”¨ collection expressions `[.. collection]`
- ä½¿ç”¨ switch expressionsï¼ˆå½“é€‚ç”¨ï¼‰
- æœ€å°æƒé™åŸåˆ™ï¼š`private` > `internal` > `protected` > `public`

### 4.2 æ€§èƒ½è¦æ±‚
- é¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…
- ä½¿ç”¨ Span<T> å¤„ç†ä¸´æ—¶ç¼“å†²åŒº
- ä½¿ç”¨ ArrayPool å¤ç”¨å¤§ç¼“å†²åŒº
- ä½¿ç”¨ FrozenDictionary ç¼“å­˜å…ƒæ•°æ®
- å¼‚æ­¥æ–¹æ³•ä½¿ç”¨ ConfigureAwait(false)

### 4.3 çº¿ç¨‹å®‰å…¨
- æ‰€æœ‰å…±äº«çŠ¶æ€ä½¿ç”¨ Lock æˆ– SemaphoreSlim
- å¼‚æ­¥æ–¹æ³•ä½¿ç”¨ SemaphoreSlim
- æ–‡ä»¶æ“ä½œé€šè¿‡ FileWriteQueue ä¸²è¡ŒåŒ–
- é¿å… lock è¯­å¥åµŒå¥—

### 4.4 é”™è¯¯å¤„ç†
- ä½¿ç”¨ ArgumentNullException.ThrowIfNull()
- å…·ä½“çš„å¼‚å¸¸ç±»å‹ï¼ˆé¿å…æ³›ç”¨ Exceptionï¼‰
- åŒ…å«ä¸Šä¸‹æ–‡ä¿¡æ¯çš„é”™è¯¯æ¶ˆæ¯
- ä¸åå’½å¼‚å¸¸ï¼ˆé™¤éæœ‰å……åˆ†ç†ç”±ï¼‰

---

## 5. ä½¿ç”¨æŒ‡å—

### 5.1 å®šä¹‰å®ä½“
```csharp
using System.ComponentModel.DataAnnotations;

public class User
{
    public int Id { get; set; }
    
    [MaxLength(50)]
    public string Name { get; set; } = string.Empty;
    
    [MaxLength(100)]
    public string Email { get; set; } = string.Empty;
    
    public int Age { get; set; }
    public decimal Balance { get; set; }
    public DateTime CreatedAt { get; set; }
    public bool IsActive { get; set; }
    public int? CategoryId { get; set; }
    public DateTime? PublishedAt { get; set; }
}
```

### 5.2 å®šä¹‰ DbContext
```csharp
using Perigon.MiniDb;

public class MyDbContext(string filePath) : MicroDbContext(filePath)
{
    public DbSet<User> Users { get; set; } = null!;
    public DbSet<Product> Products { get; set; } = null!;
}
```

### 5.3 åŸºæœ¬æ“ä½œ
```csharp
// åˆ›å»º/æ‰“å¼€æ•°æ®åº“
await using var db = new MyDbContext("app.mds");

// æ·»åŠ 
db.Users.Add(new User 
{ 
    Name = "Alice", 
    Email = "alice@example.com",
    Age = 30,
    Balance = 1000m,
    CreatedAt = DateTime.UtcNow,
    IsActive = true
});
await db.SaveChangesAsync();

// æŸ¥è¯¢
var activeUsers = db.Users
    .Where(u => u.IsActive && u.Balance >= 500)
    .OrderByDescending(u => u.CreatedAt)
    .ToList();

// æ›´æ–°
var user = db.Users.First();
user.Balance += 100;
db.Users.Update(user);
await db.SaveChangesAsync();

// åˆ é™¤
db.Users.Remove(user);
await db.SaveChangesAsync();
```

### 5.4 å†…å­˜ç®¡ç†
```csharp
// å¤šä¸ªä¸Šä¸‹æ–‡å…±äº«å†…å­˜
await using var db1 = new MyDbContext("app.mds");
await using var db2 = new MyDbContext("app.mds");
// db1 å’Œ db2 çœ‹åˆ°åŒä¸€ä»½æ•°æ®

// æ˜¾å¼é‡Šæ”¾å†…å­˜ï¼ˆåº”ç”¨å…³é—­å‰ï¼‰
await MyDbContext.ReleaseSharedCacheAsync("app.mds");
```

---

## 6. æ€§èƒ½æŒ‡æ ‡

### 6.1 å†…å­˜å ç”¨
- æ–‡ä»¶å¤§å° = å†…å­˜å ç”¨ï¼ˆå…¨å†…å­˜åŠ è½½ï¼‰
- å…ƒæ•°æ®ç¼“å­˜ï¼š< 1KB/è¡¨
- å˜æ›´è¿½è¸ªï¼šO(n) å·²ä¿®æ”¹å®ä½“æ•°é‡
- å…±äº«æ¶æ„é¿å…é‡å¤åŠ è½½

### 6.2 æ“ä½œæ€§èƒ½
- **æŸ¥è¯¢**ï¼šå†…å­˜é€Ÿåº¦ï¼ˆå¾®ç§’çº§ï¼‰
- **æ’å…¥**ï¼šO(1) è¿½åŠ  + é˜Ÿåˆ—å†™å…¥
- **æ›´æ–°**ï¼šO(1) å®šä½ + é˜Ÿåˆ—å†™å…¥
- **åˆ é™¤**ï¼šO(1) æ ‡è®° + é˜Ÿåˆ—å†™å…¥
- **SaveChanges**ï¼šå–å†³äºå˜æ›´æ•°é‡å’Œé˜Ÿåˆ—é•¿åº¦

### 6.3 å¹¶å‘æ€§èƒ½
- è¯»å–ï¼šæ— é”äº‰ç”¨ï¼ˆå…±äº«å†…å­˜ï¼‰
- å†™å…¥ï¼šä¸²è¡ŒåŒ–ï¼ˆFileWriteQueueï¼‰
- ååé‡ï¼šå–å†³äºç£ç›˜é€Ÿåº¦

---

## 7. å·²çŸ¥é™åˆ¶

### 7.1 æ•°æ®é‡é™åˆ¶
- **æ¨è**ï¼šâ‰¤ 10ä¸‡è®°å½•ï¼Œâ‰¤ 50MB æ–‡ä»¶
- **æœ€å¤§**ï¼šå—å¯ç”¨å†…å­˜é™åˆ¶

### 7.2 åŠŸèƒ½é™åˆ¶
- âŒ ä¸æ”¯æŒå¤–é”®
- âŒ ä¸æ”¯æŒç´¢å¼•
- âŒ ä¸æ”¯æŒå¤æ‚çº¦æŸ
- âŒ ä¸æ”¯æŒ SQL æŸ¥è¯¢

### 7.3 ç±»å‹é™åˆ¶
- âœ… æ”¯æŒï¼šint, bool, string, decimal, DateTime
- âœ… æ”¯æŒï¼šä»¥ä¸Šç±»å‹çš„å¯ç©ºç‰ˆæœ¬
- âŒ ä¸æ”¯æŒï¼šlong, double, float, byte[], List<T> ç­‰

---

## 8. è·¯çº¿å›¾

### v0.0.1ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰âœ…
- æ ¸å¿ƒåŠŸèƒ½å®ç°
- å…±äº«å†…å­˜æ¶æ„
- å•çº¿ç¨‹å†™å…¥é˜Ÿåˆ—
- å¼‚æ­¥æ”¯æŒ
- æ€§èƒ½ä¼˜åŒ–
- Windows å®¢æˆ·ç«¯å·¥å…·ï¼ˆWPFï¼‰

### v0.1.0ï¼ˆä¸‹ä¸€ç‰ˆæœ¬ï¼‰ğŸ“‹
- [ ] æ–‡ä»¶å‹ç¼©å·¥å…·
- [ ] æ‰¹é‡æ“ä½œ API
- [ ] æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡
- [ ] æ›´å¤šå•å…ƒæµ‹è¯•
- [ ] å®¢æˆ·ç«¯åŠ¨æ€åŠ è½½æ•°æ®åº“ç»“æ„

### v0.2.0ï¼ˆæœªæ¥è®¡åˆ’ï¼‰ğŸ”®
- [ ] å†…å­˜ç´¢å¼•ï¼ˆå¯é€‰ï¼‰
- [ ] æ•°æ®è¿ç§»å·¥å…·
- [ ] è·¨å¹³å°åŒæ­¥ï¼ˆé€‰åšï¼‰
- [ ] å®¢æˆ·ç«¯æ•°æ®å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½

---

## 9. è´¡çŒ®æŒ‡å—

### 9.1 æäº¤ PR
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æ·»åŠ æµ‹è¯•
4. æ›´æ–°æ–‡æ¡£
5. æäº¤ PR

### 9.2 ä»£ç å®¡æŸ¥è¦ç‚¹
- æ€§èƒ½å½±å“
- çº¿ç¨‹å®‰å…¨
- æµ‹è¯•è¦†ç›–
- æ–‡æ¡£æ›´æ–°
- å‘åå…¼å®¹æ€§

---

## 11. Windows å®¢æˆ·ç«¯å·¥å…·

### 11.1 é¡¹ç›®ä¿¡æ¯
- **é¡¹ç›®ç±»å‹**ï¼šWPF æ¡Œé¢åº”ç”¨ç¨‹åº
- **ç›®æ ‡æ¡†æ¶**ï¼š.NET 10.0 Windows 10.0.22621.0
- **UI æ¡†æ¶**ï¼šWPF (Windows Presentation Foundation)
- **è®¾è®¡æ¨¡å¼**ï¼šMVVM (Model-View-ViewModel)
- **ç›®æ ‡å¹³å°**ï¼šWindows 10/11 (x64)

### 11.2 åŠŸèƒ½ç‰¹æ€§

#### æ•°æ®åº“è¿æ¥ç®¡ç†
- âœ… æ·»åŠ æ•°æ®åº“è¿æ¥ï¼ˆåç§° + è·¯å¾„ï¼‰
- âœ… ç¼–è¾‘ç°æœ‰è¿æ¥
- âœ… åˆ é™¤è¿æ¥
- âœ… è¿æ¥é…ç½®è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°ï¼ˆLocalApplicationDataï¼‰

#### æ•°æ®åº“æ“ä½œ
- âœ… è¿æ¥åˆ° MiniDB æ•°æ®åº“æ–‡ä»¶
- âœ… æµè§ˆæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨
- âœ… æŸ¥çœ‹è¡¨æ•°æ®ï¼ˆä»¥æ•°æ®ç½‘æ ¼å½¢å¼å±•ç¤ºï¼‰
- âœ… ç¼–è¾‘æ•°æ®å¹¶ä¿å­˜æ›´æ”¹
- âœ… æ–­å¼€æ•°æ®åº“è¿æ¥
- âœ… åˆ·æ–°è¡¨æ•°æ®

#### ç”¨æˆ·ç•Œé¢
- âœ… æ·±è‰²ä¸»é¢˜è®¾è®¡ï¼ˆDark Modeï¼‰
- âœ… é€‚é… Windows 11 é£æ ¼
- âœ… å“åº”å¼å¸ƒå±€
- âœ… çŠ¶æ€æ æ˜¾ç¤ºæ“ä½œçŠ¶æ€
- âœ… èœå•ç³»ç»Ÿï¼ˆFileã€Helpï¼‰
- âœ… å·¥å…·æ å¿«æ·æ“ä½œ

#### æ–‡ä»¶é”å®šå¤„ç†
- âœ… æ£€æµ‹æ•°æ®åº“æ–‡ä»¶æ˜¯å¦è¢«å…¶ä»–è¿›ç¨‹é”å®š
- âœ… æä¾›å‹å¥½çš„é”™è¯¯æç¤º
- âœ… æ”¯æŒæ–‡ä»¶å…±äº«è¯»å–

#### ç¤ºä¾‹æ•°æ®åº“
- âœ… è‡ªåŠ¨åˆ›å»ºç¤ºä¾‹æ•°æ®åº“
- âœ… åŒ…å« Products å’Œ Categories è¡¨
- âœ… é¢„å¡«å……æµ‹è¯•æ•°æ®
- âœ… é€šè¿‡èœå•æ‰‹åŠ¨åˆ›å»ºç¤ºä¾‹æ•°æ®åº“

### 11.3 æŠ€æœ¯æ¶æ„

#### MVVM æ¨¡å¼
```
Views (XAML)
   â†“ æ•°æ®ç»‘å®š
ViewModels (é€»è¾‘å±‚)
   â†“ è°ƒç”¨æœåŠ¡
Services (ä¸šåŠ¡å±‚)
   â†“ ä½¿ç”¨æ¨¡å‹
Models (æ•°æ®å±‚)
```

#### é¡¹ç›®ç»„ä»¶
- **Models**: æ•°æ®æ¨¡å‹ï¼ˆDatabaseConnection, TableInfoï¼‰
- **ViewModels**: è§†å›¾æ¨¡å‹ï¼ˆMainViewModelï¼‰
- **Views**: è§†å›¾å’Œå¯¹è¯æ¡†ï¼ˆMainWindow, ConnectionDialogï¼‰
- **Services**: ä¸šåŠ¡æœåŠ¡ï¼ˆDatabaseConnectionService, DatabaseReaderServiceï¼‰
- **Helpers**: è¾…åŠ©ç±»ï¼ˆRelayCommandï¼‰
- **Sample**: ç¤ºä¾‹æ•°æ®åº“ä¸Šä¸‹æ–‡ï¼ˆSampleDbContextï¼‰

### 11.4 ä½¿ç”¨è¯´æ˜

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒï¼š`src/Perigon.MiniDb.Client/README.md`

#### å¿«é€Ÿå¼€å§‹
1. è¿è¡Œåº”ç”¨ç¨‹åº
2. é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åœ¨ Documents ç›®å½•åˆ›å»ºç¤ºä¾‹æ•°æ®åº“
3. ç‚¹å‡» "Add Connection" æ·»åŠ æ•°æ®åº“è¿æ¥
4. é€‰æ‹©è¿æ¥åç‚¹å‡» "Connect"
5. åœ¨å·¦ä¾§é€‰æ‹©è¡¨ï¼Œå³ä¾§æŸ¥çœ‹å’Œç¼–è¾‘æ•°æ®
6. ä¿®æ”¹åç‚¹å‡» "Save Changes" ä¿å­˜

### 11.5 æ„å»ºå’Œè¿è¡Œ

```bash
# æ„å»ºå®¢æˆ·ç«¯
dotnet build src/Perigon.MiniDb.Client/Perigon.MiniDb.Client.csproj

# è¿è¡Œå®¢æˆ·ç«¯
dotnet run --project src/Perigon.MiniDb.Client/Perigon.MiniDb.Client.csproj

# å‘å¸ƒå®¢æˆ·ç«¯ï¼ˆå•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åºï¼‰
dotnet publish src/Perigon.MiniDb.Client/Perigon.MiniDb.Client.csproj \
  -c Release \
  -r win-x64 \
  --self-contained false \
  -p:PublishSingleFile=true
```

### 11.6 å·²çŸ¥é™åˆ¶

#### å½“å‰ç‰ˆæœ¬é™åˆ¶
1. **æ•°æ®åº“ç±»å‹è¯†åˆ«**:
   - ä½¿ç”¨é¢„å®šä¹‰çš„ SampleDbContext
   - åªèƒ½æŸ¥çœ‹åŒ…å« Products å’Œ Categories è¡¨çš„æ•°æ®åº“
   - åç»­ç‰ˆæœ¬å°†æ”¯æŒåŠ¨æ€åŠ è½½ä»»æ„æ•°æ®åº“ç»“æ„

2. **æ•°æ®éªŒè¯**:
   - åŸºæœ¬çš„æ•°æ®ç±»å‹éªŒè¯
   - ä¸æ”¯æŒå¤æ‚çš„ä¸šåŠ¡è§„åˆ™éªŒè¯

3. **å¹¶å‘æ§åˆ¶**:
   - ä¸æ”¯æŒå¤šç”¨æˆ·åŒæ—¶ç¼–è¾‘
   - æ–‡ä»¶é”å®šæ—¶éœ€è¦ç­‰å¾…å…¶ä»–è¿›ç¨‹é‡Šæ”¾

### 11.7 åç»­è®¡åˆ’

- [ ] æ”¯æŒåŠ¨æ€åŠ è½½ä»»æ„æ•°æ®åº“ç»“æ„
- [ ] æ·»åŠ æ•°æ®å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
- [ ] æ”¯æŒæ•°æ®æœç´¢å’Œè¿‡æ»¤
- [ ] æ·»åŠ æ•°æ®åº“å‹ç¼©å·¥å…·ç•Œé¢
- [ ] æ”¯æŒä¸»é¢˜åˆ‡æ¢ï¼ˆäº®è‰²ä¸»é¢˜ï¼‰
- [ ] æ·»åŠ æ›´å¤šæ•°æ®ç¼–è¾‘å·¥å…·ï¼ˆæ‰¹é‡ç¼–è¾‘ã€å¤åˆ¶ç²˜è´´ç­‰ï¼‰
- [ ] æ·»åŠ æ•°æ®åº“å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½
- [ ] æ”¯æŒæ•°æ®åº“æ–‡ä»¶åŠ å¯†

---

## 12. å‚è€ƒèµ„æ–™

- [æŠ€æœ¯è®¾è®¡æ–‡æ¡£](./æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md)
- [æ€§èƒ½ä¼˜åŒ–æ–‡æ¡£](../PERFORMANCE_OPTIMIZATIONS.md)
- [å¼‚æ­¥æµ‹è¯•æ€»ç»“](../ASYNC_TEST_SUMMARY.md)
- [GitHub ä»“åº“](https://github.com/AterDev/Perigon.minidb)

---

## âœ… å½“å‰çŠ¶æ€

**ç‰ˆæœ¬**ï¼š0.0.1  
**çŠ¶æ€**ï¼šæ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼Œæ€§èƒ½ä¼˜åŒ–å·²å®Œæˆï¼Œæµ‹è¯•è¦†ç›–ç‡ 77%  
**ç”Ÿäº§å°±ç»ª**ï¼šâš ï¸ éƒ¨åˆ†ï¼ˆå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒå‰è¿›è¡Œæ›´å¤šæµ‹è¯•ï¼‰

**å·²å®ç°çš„å…³é”®ç‰¹æ€§**ï¼š
- âœ… å…±äº«å†…å­˜æ¶æ„
- âœ… å•çº¿ç¨‹æ–‡ä»¶å†™å…¥é˜Ÿåˆ—
- âœ… å®Œæ•´çš„å¼‚æ­¥æ”¯æŒ
- âœ… é«˜æ€§èƒ½ä¼˜åŒ–ï¼ˆ.NET 10 / C# 14ï¼‰
- âœ… å›ºå®šé•¿åº¦äºŒè¿›åˆ¶æ ¼å¼
- âœ… å¢é‡æ›´æ–°æœºåˆ¶
- âœ… çº¿ç¨‹å®‰å…¨ä¿è¯
- âœ… Windows å®¢æˆ·ç«¯ç®¡ç†å·¥å…·ï¼ˆWPF + æ·±è‰²ä¸»é¢˜ï¼‰